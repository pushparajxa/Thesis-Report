  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -*- coding: utf-8; mode: latex -*- %%
  %
%%%%%                         CHAPTER
 %%%
  %

% $Id: 1020-lorem-ipsum.tex,v 1.2 2009/06/19 15:51:46 david Exp $
% $Log: 1020-lorem-ipsum.tex,v $
% Revision 1.2  2009/06/19 15:51:46  david
% *** empty log message ***
%
% Revision 1.1  2007/11/23 09:52:39  david
% *** empty log message ***
%
%

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  %
%%%%%                           HEAD MATTER
 %%%
  %

\chapter{Read-Only Nested Snapshots-Problem Definition}
%\addcontentsline{lof}{chapter}{\thechapter\quad Lorem Ipsum}
%\addcontentsline{lot}{chapter}{\thechapter\quad Lorem Ipsum}
\label{ch:RONSProblem}

Users typically run experiments on the data they store in HDFS. Once an experiment overwrites or deletes existing files, it is not possible to revert to the previous state of data to run new experiments. In some cases users may like to take have different snapshots of data generated by different experiments. In some cases user may like to take snapshots and parent/child directories called nested snapshots.\\\\
Snapshots are point in time images of the file system. Snapshots should cover the following elements of the file system.
\begin{enumerate}
\item Snapshot of a subtree of the file system.
\item Snapshot of the entire file system.
\end{enumerate}

\section{UseCase Scenarios}
\begin{enumerate}
\item \textbf{Protection against user errors:} Admin sets up a process to take RO snapshots periodically in a
rolling manner so that there are always x number of RO snapshots on HDFS. If a user
accidentally deletes a file, the file can be restored from the latest RO snapshot.
\item \textbf{Backup:} Admin wants to do a backup of a dataset. Depending on the requirements, admin takes
a read-only (henceforth referred to as RO) snapshot in HDFS. This RO snapshot is then read and
data is sent across to the remote backup location.
\item \textbf{Experimental/Test setups:} A user wants to test an application against the main dataset. Normally, without doing a full copy of the dataset, this is a very risky proposition since the test setups can corrupt/overwrite production data. Admin creates a read-write (henceforth referred to as RW) snapshot of the production dataset and assigns the RW snapshot to the user to be used for experiment. Changes done to the RW snapshot will not be reflected on the production dataset.

\end{enumerate}


\section{Requirements and Operations to be supported}
\begin{enumerate}
\item All file system operations are allowed on the snapshotted file/directories including:\\
\hspace{5em} Rename is allowed both within and across snapshottable directory boundaries.

\item Any modification to the current files or directories are not reflected in the snapshots. The
snapshot is read-only.\\
\hspace{5 em} The modification include length change, renaming of the file name, permission changes or any other attribute changes such as replication factor etc.

\item The snapshot files and directories can be only be read, not modified in any way (except that the
entire snapshot can be deleted). This means the replication factor, permission or any other
attributes of file or directory cannot be changed. The snapshots are truly read-only.

\item Nested snapshots are allowed.

\item Access time is not tracked for snapshots.

\item Snapshots should be created very fast.

\item Block data is not copied for snapshots

\end{enumerate}




  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  %
%%%%%                        FIRST SECTION
 %%%
  %

\section{Related Work}

\subsection{Apache Hadoop Version 2}
\cite{Hadoop2}
\subsection{Hadoop at Facebook}
\cite{Facebook}


  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  %
%%%%%                      SECOND SECTION
 %%%
  %



  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  %
%%%%%                          LAST SECTION
 %%%
  %
 %%%
%%%%%                        THE END
  %
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "tese"
%%% End: 
